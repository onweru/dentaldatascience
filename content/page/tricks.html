---
title: "Tricks"
author: "Sergio Uribe"
date: "6 de marzo de 2018"
output: html_document
---



<div id="search-replace-tidyverse-way" class="section level1">
<h1>Search &amp; Replace tidyverse way</h1>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre class="r"><code>df &lt;- data.frame(
  c1 = letters[1:5], 
  c2 = 5:9, 
  c3 = LETTERS[5:9], 
  stringsAsFactors = FALSE)</code></pre>
<pre class="r"><code>df</code></pre>
<pre><code>##   c1 c2 c3
## 1  a  5  E
## 2  b  6  F
## 3  c  7  G
## 4  d  8  H
## 5  e  9  I</code></pre>
<pre class="r"><code>df %&gt;% 
  mutate_if(is.character, str_replace_all, pattern = &#39;[aeouAEOU]&#39;, replacement = &#39;ths should be aeouAEIOU except i or I &#39;)</code></pre>
<pre><code>##                                       c1 c2
## 1 ths should be aeouAEIOU except i or I   5
## 2                                      b  6
## 3                                      c  7
## 4                                      d  8
## 5 ths should be aeouAEIOU except i or I   9
##                                       c3
## 1 ths should be aeouAEIOU except i or I 
## 2                                      F
## 3                                      G
## 4                                      H
## 5                                      I</code></pre>
</div>
<div id="find-nas" class="section level1">
<h1>Find NAs</h1>
<pre class="r"><code>`new_DF &lt;- df[is.na(df$columna),]`</code></pre>
</div>
<div id="create-fake-data-from-a-table" class="section level1">
<h1>Create fake data from a table</h1>
<p>Create table</p>
<pre class="r"><code>originalTable &lt;- matrix(c(188, 29, 20, 51), ncol = 2, byrow = TRUE)
colnames(originalTable) &lt;- c(&quot;A&quot;, &quot;B&quot;)
rownames(originalTable) &lt;- c(&quot;C&quot;, &quot;D&quot;)
originalTable</code></pre>
<p>Package splitstackshape</p>
<pre class="r"><code>library(splitstackshape)
df &lt;- expandRows(data.frame(as.table(originalTable)), &quot;Freq&quot;)
table(df$Var1, df$Var2)</code></pre>
</div>
<div id="sum-rows" class="section level1">
<h1>Sum rows</h1>
<pre class="r"><code> mutate(newVar = rowSums( cbind (colA,colB), na.rm=TRUE))</code></pre>
</div>
<div id="clean-data-from-rectangular-dataframes" class="section level1">
<h1>Clean data from rectangular dataframes</h1>
<pre class="r"><code>x = data.frame(a = c(1, NA, 2), b = c(2, NA, 3), c = c(NA, &quot;A&quot;, NA))</code></pre>
<pre class="r"><code>as.data.frame(lapply(x, na.omit))</code></pre>
</div>
<div id="re-ordering-columns" class="section level1">
<h1>Re-ordering columns</h1>
<pre class="r"><code>mtcars %&gt;% 
    select(cyl, disp, hp, everything()) %&gt;% 
    head()</code></pre>
</div>
